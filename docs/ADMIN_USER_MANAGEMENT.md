# ๐ฏ ุฏุงุดุจูุฑุฏ ูุฏุฑุช ฺฉุงุฑุจุฑุงู - ุขูุงุฏู!

## โ ฺฉุงุฑูุง ุงูุฌุงู ุดุฏู

### Backend
1. **UserManagementController** ุงุฌุงุฏ ุดุฏ ุจุง ูุงุจูุชโูุง:
   - โ ูุณุช ฺฉุงุฑุจุฑุงู ุจุง pagination ู ุฌุณุชุฌู
   - โ ููุชุฑ ุจุฑ ุงุณุงุณ ููุด
   - โ ูุดุงูุฏู ุฌุฒุฆุงุช ฺฉุงุฑุจุฑ
   - โ ูุฑุงุด ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ
   - โ ุญุฐู ฺฉุงุฑุจุฑ
   - โ ุชุบุฑ ููุด ฺฉุงุฑุจุฑ
   - โ ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุชูุณุท ุงุฏูู
   - โ ุขูุงุฑ ฺฉุงุฑุจุฑุงู

2. **API Endpoints** ูุญุงูุธุช ุดุฏู ุจุง Role Admin:
   ```
   GET    /api/admin/users              - ูุณุช ฺฉุงุฑุจุฑุงู
   POST   /api/admin/users              - ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ
   GET    /api/admin/users/stats        - ุขูุงุฑ ฺฉุงุฑุจุฑุงู
   GET    /api/admin/users/{id}         - ุฌุฒุฆุงุช ฺฉุงุฑุจุฑ
   PUT    /api/admin/users/{id}         - ูุฑุงุด ฺฉุงุฑุจุฑ
   DELETE /api/admin/users/{id}         - ุญุฐู ฺฉุงุฑุจุฑ
   POST   /api/admin/users/{id}/change-role - ุชุบุฑ ููุด
   GET    /api/admin/roles              - ูุณุช ููุดโูุง
   ```

### Frontend
1. **Layout ูุญุงูุธุช ุดุฏู** ุจุง `AdminOnly`
2. **ููู ูุฏุฑุช ฺฉุงุฑุจุฑุงู** ุงุถุงูู ุดุฏ ุจู sidebar
3. **ุตูุญู ูุฏุฑุช ฺฉุงุฑุจุฑุงู** ุจุง ุงูฺฉุงูุงุช:
   - โ ููุงุด ฺฉุงุฑุชโูุง ุขูุงุฑ
   - โ ุฌุณุชุฌู ูพุดุฑูุชู (ูุงูุ ุงููุ ุชููู)
   - โ ููุชุฑ ุจุฑ ุงุณุงุณ ููุด
   - โ ุฌุฏูู ฺฉุงุฑุจุฑุงู ุจุง ุงุทูุงุนุงุช ฺฉุงูู
   - โ ุชุบุฑ ููุด ูุณุชูู ุงุฒ ุฌุฏูู
   - โ ููุงุด ูุถุนุช ุชุงุฏ ุงูู ู ุชููู
   - โ ุฏฺฉููโูุง ูุฑุงุด ู ุญุฐู
   - โ Pagination
   - โ ุฑูุฑุด ุฏุณุช

## ๐ ูุญูู ุงุณุชูุงุฏู

### 1. ูุงฺฏู ุจู ุนููุงู Admin
```bash
# ุจุง admin ูุงฺฏู ฺฉูุฏ
Email: admin@massage-app.test
Password: password
```

### 2. ุฏุณุชุฑุณ ุจู ุฏุงุดุจูุฑุฏ
- ุจุฑูุฏ ุจู: `http://localhost:3000/admin`
- ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุจู `/admin/users` redirect ูโุดูุฏ

### 3. ููู ุณุงุฏุจุงุฑ
- ๐ฅ **ูุฏุฑุช ฺฉุงุฑุจุฑุงู** - ูุดุงูุฏู ู ูุฏุฑุช ุชูุงู ฺฉุงุฑุจุฑุงู
- ๐ **ุชุณฺฉโูุง** - ูุฏุฑุช ุชุณฺฉโูุง (ูุจู)
- ๐ **ูุงฺฏโูุง** - ูุดุงูุฏู ูุงฺฏโูุง ุณุณุชู (ูุจู)
- ๐ **ุฑุฒุฑููุง** - ูุฏุฑุช ุฑุฒุฑููุง (ูุจู)

## ๐ ูุงุจูุชโูุง ุตูุญู ูุฏุฑุช ฺฉุงุฑุจุฑุงู

### ฺฉุงุฑุชโูุง ุขูุงุฑ
- **ฺฉู ฺฉุงุฑุจุฑุงู**: ุชุนุฏุงุฏ ฺฉู ฺฉุงุฑุจุฑุงู ุณุณุชู
- **ุงูู ุชุงุฏ ุดุฏู**: ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุจุง ุงูู ุชุงุฏ ุดุฏู
- **ุชููู ุชุงุฏ ุดุฏู**: ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ุจุง ุชููู ุชุงุฏ ุดุฏู
- **ูุฑูุฏ ููุชู ุงุฎุฑ**: ุชุนุฏุงุฏ ฺฉุงุฑุจุฑุงู ฺฉู ุฏุฑ 7 ุฑูุฒ ฺฏุฐุดุชู ูุงฺฏู ฺฉุฑุฏูโุงูุฏ

### ุฌุณุชุฌู ู ููุชุฑ
- ุฌุณุชุฌู ุจุฑ ุงุณุงุณ: ูุงูุ ูุงู ุฎุงููุงุฏฺฏุ ุงููุ ุชูููุ ูุงู ฺฉุงุฑุจุฑ
- ููุชุฑ ุจุฑ ุงุณุงุณ ููุด: ูููุ Adminุ Masseurุ Masseuseุ Client

### ุฌุฏูู ฺฉุงุฑุจุฑุงู
ูุฑ ุฑุฏู ููุงุด ูโุฏูุฏ:
- **ูุงู ู ูุงู ุฎุงููุงุฏฺฏ** + username
- **ุงุทูุงุนุงุช ุชูุงุณ**: ุงูู ู ุชููู
- **ููุด**: ุจุง dropdown ูุงุจู ุชุบุฑ
- **ูุถุนุช**: ุขฺฉููโูุง ุชุงุฏ ุงูู ู ุชููู
- **ุชุงุฑุฎ ุนุถูุช**
- **ุฏฺฉููโูุง ุนููุงุช**: ูุฑุงุด ู ุญุฐู

### ุชุบุฑ ููุด
- ูุณุชูู ุงุฒ dropdown ุฏุฑ ุฌุฏูู
- ุชุงุฏ ุฎูุฏฺฉุงุฑ ุจุฏูู ูุงุฒ ุจู ุฏฺฉูู ุฐุฎุฑู
- Toast notification ุจุฑุง ููููุช ุง ุฎุทุง

### ุญุฐู ฺฉุงุฑุจุฑ
- ุฏฺฉูู ุญุฐู ุจุง ุขฺฉูู ุณุทู ุฒุจุงูู
- Modal ุชุงุฏ ูุจู ุงุฒ ุญุฐู
- ุงุฒ ุญุฐู ุฎูุฏุชุงู ุฌููฺฏุฑ ูโุดูุฏ

### Pagination
- 15 ฺฉุงุฑุจุฑ ุฏุฑ ูุฑ ุตูุญู
- ุฏฺฉููโูุง "ูุจู" ู "ุจุนุฏ"
- ููุงุด ุดูุงุฑู ุตูุญู ูุนู

## ๐ ุงููุช

### Backend
- ููู route ูุง ุจุง middleware `role:admin` ูุญุงูุธุช ุดุฏูโุงูุฏ
- ุงุฒ ุญุฐู ุง ุชุบุฑ ููุด ุฎูุฏุชุงู ุฌููฺฏุฑ ูโุดูุฏ
- Validation ฺฉุงูู ุจุฑุง ููู input ูุง

### Frontend
- Layout ูุญุงูุธุช ุดุฏู ุจุง `AdminOnly`
- ูุฑ ฺฉุณ ุบุฑ ุงุฒ admin ุณุน ฺฉูุฏ ูุงุฑุฏ ุดูุฏุ redirect ูโุดูุฏ
- Token ุฏุฑ localStorage ุฐุฎุฑู ู ุจุง ูุฑ request ุงุฑุณุงู ูโุดูุฏ

## ๐งช ุชุณุช

### ุชุณุช ุจุง cURL

```bash
# 1. ูุงฺฏู ุจุง admin
TOKEN=$(curl -X POST http://localhost:8000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@massage-app.test","password":"password"}' \
  | jq -r '.access_token')

# 2. ุฏุฑุงูุช ุขูุงุฑ
curl -X GET http://localhost:8000/api/admin/users/stats \
  -H "Authorization: Bearer $TOKEN"

# 3. ูุณุช ฺฉุงุฑุจุฑุงู
curl -X GET "http://localhost:8000/api/admin/users?page=1&per_page=15" \
  -H "Authorization: Bearer $TOKEN"

# 4. ุฌุณุชุฌู
curl -X GET "http://localhost:8000/api/admin/users?search=admin" \
  -H "Authorization: Bearer $TOKEN"

# 5. ููุชุฑ ุจุฑ ุงุณุงุณ ููุด
curl -X GET "http://localhost:8000/api/admin/users?role=client" \
  -H "Authorization: Bearer $TOKEN"

# 6. ุชุบุฑ ููุด ฺฉุงุฑุจุฑ (ูุซุงู: ฺฉุงุฑุจุฑ 2 ุจู masseur)
curl -X POST http://localhost:8000/api/admin/users/2/change-role \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d '{"role_id":2}'

# 7. ูุณุช ููุดโูุง
curl -X GET http://localhost:8000/api/admin/roles \
  -H "Authorization: Bearer $TOKEN"
```

### ุชุณุช Frontend

1. ูุงฺฏู ุจุง `admin@massage-app.test` / `password`
2. ุจุฑูุฏ ุจู `/admin`
3. ุจุงุฏ ุตูุญู ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุฑุง ุจุจูุฏ
4. ุขุฒูุงุด ฺฉูุฏ:
   - ุฌุณุชุฌู
   - ููุชุฑ ููุด
   - ุชุบุฑ ููุด
   - Pagination

## ๐จ ุฑูฺฏโุจูุฏ ููุดโูุง

- ๐ด **Admin**: ูุฑูุฒ
- ๐ต **Masseur/Masseuse**: ุขุจ
- ๐ข **Client**: ุณุจุฒ

## ๐ฑ Responsive

- ุตูุญู ุจุฑุง ููุจุงู ู ุชุจูุช ุจููู ุดุฏู
- ุฌุฏูู scroll ุงูู ุฏุฑ ุตูุญุงุช ฺฉูฺฺฉ
- Sidebar ุฏุฑ ููุจุงู ูุงุจู ุจุณุชู ุงุณุช

## ๐ ุจุฑูุฒุฑุณุงู ุฎูุฏฺฉุงุฑ

- ุฏฺฉูู ุฑูุฑุด ุจุฑุง ุจุงุฑฺฏุฐุงุฑ ูุฌุฏุฏ ฺฉุงุฑุจุฑุงู
- ุจุนุฏ ุงุฒ ูุฑ ุชุบุฑ (ุญุฐูุ ุชุบุฑ ููุด) ูุณุช ู ุขูุงุฑ ุจุฑูุฒุฑุณุงู ูโุดููุฏ

## ๐ฏ ูฺฺฏโูุง ุงุถุงู ุจุฑุง ุขูุฏู

ูโุชูุงูุฏ ุงู ููุงุฑุฏ ุฑุง ุงุถุงูู ฺฉูุฏ:
- [ ] ูุฑุงุด ฺฉุงุฑุจุฑ ุฏุฑ modal
- [ ] ุงุฌุงุฏ ฺฉุงุฑุจุฑ ุฌุฏุฏ ุฏุฑ modal
- [ ] Export ูุณุช ฺฉุงุฑุจุฑุงู ุจู Excel/CSV
- [ ] ููุชุฑ ูพุดุฑูุชู (ุชุงุฑุฎ ุนุถูุชุ ูุถุนุช ุชุงุฏ)
- [ ] ูููุฏุงุฑ ุชูุฒุน ููุดโูุง
- [ ] ูุงฺฏ ูุนุงูุชโูุง ฺฉุงุฑุจุฑ
- [ ] ูุณุฏูุฏ/ูุนุงู ฺฉุฑุฏู ฺฉุงุฑุจุฑ
- [ ] ุงุฑุณุงู ุงุนูุงู ุจู ฺฉุงุฑุจุฑุงู

## ๐ ุนุจ ุงุจ

### ุฎุทุง: "401 Unauthenticated"
**ุฑุงูโุญู**: ูุทูุฆู ุดูุฏ ุจุง admin ูุงฺฏู ฺฉุฑุฏูโุงุฏ

### ุฎุทุง: "403 Unauthorized"
**ุฑุงูโุญู**: ููุท admin ูโุชูุงูุฏ ุจู ุงู ุตูุญู ุฏุณุชุฑุณ ุฏุงุดุชู ุจุงุดุฏ

### ฺฉุงุฑุจุฑุงู ููุงุด ุฏุงุฏู ููโุดููุฏ
**ุฑุงูโุญู**: ุจุฑุฑุณ ฺฉูุฏ:
- Token ุฏุฑ localStorage ููุฌูุฏ ุงุณุช
- Backend ุฏุฑ ุญุงู ุงุฌุฑุง ุงุณุช
- Console ูุฑูุฑฺฏุฑ ุจุฑุง ุฎุทุง ฺฺฉ ฺฉูุฏ

### ุชุบุฑ ููุด ฺฉุงุฑ ููโฺฉูุฏ
**ุฑุงูโุญู**: ููโุชูุงูุฏ ููุด ุฎูุฏ ุฑุง ุชุบุฑ ุฏูุฏ!

---

**โ ุฏุงุดุจูุฑุฏ ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุขูุงุฏู ุงุณุชูุงุฏู ุงุณุช!**
